-- FACT_KER_02_OUTBOUND: Stores outbound order facts. Grain: One row per unique hash key (from order/prep details).
CREATE TABLE FACT_KER_02_OUTBOUND (
    PK_FACT_OUTBOUND VARCHAR(32) NOT NULL,  -- MD5 hash hex
    INTEGRATION_DATE VARCHAR(10),
    INTEGRATION_TIME VARCHAR(5),
    ENVIRONMENT VARCHAR(20),
    BUILDING VARCHAR(1),
    REFLEX_CLIENT VARCHAR(3),
    REFLEX_DESTINATION VARCHAR(10),
    WAVING_DATE VARCHAR(20),
    WAVING_CODE VARCHAR(3),
    ORDER_INSERT_UPDATE VARCHAR(4),
    SHIPPING_REQUEST VARCHAR(4),
    BRAND VARCHAR(3),
    SAP_ORDERID VARCHAR(10),
    CUSTOMER_CODE VARCHAR(10),
    COUNTRY VARCHAR(3),
    SAP_CARRIER VARCHAR(4),
    REFLEX_CARRIER VARCHAR(4),
    CARRIER_NAME VARCHAR(50),
    OWNER VARCHAR(3),
    QUALITY VARCHAR(3),
    PREPARATION_NUMBER VARCHAR(20),
    DELIVERY_DATE VARCHAR(10),
    LOAD_DATE VARCHAR(11),
    LOAD_CODE VARCHAR(10),
    RDV VARCHAR(20),
    PLATE_NUMBER VARCHAR(20),
    TRUCK_DEPARTURE VARCHAR(20),
    TK35_TRANSMISSION VARCHAR(16),
    TK05_PACKED_DATE VARCHAR(16),
    TK05_SHIPPED_DATE VARCHAR(16),
    INVOICE_CODE VARCHAR(10),
    TRUCK_GATE_ARRIVAL VARCHAR(16),
    TRUCK_BAY_ARRIVAL VARCHAR(16),
    EVENT_490 VARCHAR(16),
    INVOICE_DATE VARCHAR(16),
    QUANTITY_ORDERED NUMBER(10,0),
    QUANTITY_PICKED NUMBER(10,0),
    QUANTITY_PACKED NUMBER(10,0),
    QUANTITY_DMS NUMBER(10,0),
    PARCELS_LOADED NUMBER(10,0),
    PIECES_LOADED NUMBER(10,0),
    CARTONS NUMBER(10,0),
    TK05_CANCEL_FLAG VARCHAR(1),
    TK05_CANCEL_DATE VARCHAR(16),
    INITIAL_PLANNED_PACKING_DATE VARCHAR(10),
    INITIAL_PLANNED_PACKING_TIME VARCHAR(5),
    PLANNED_PACKING_DATE VARCHAR(10),
    PLANNED_PACKING_TIME VARCHAR(5),
    INITIAL_LATEST_PLANNED_PACKING_DATE VARCHAR(10),
    INITIAL_LATEST_PLANNED_PACKING_TIME VARCHAR(5),
    LATEST_PLANNED_PACKING_DATE VARCHAR(10),
    LATEST_PLANNED_PACKING_TIME VARCHAR(5),
    INITIAL_PICKUP_DATE VARCHAR(10),
    INITIAL_PICKUP_TIME VARCHAR(5),
    PICKUP_DATE VARCHAR(10),
    PICKUP_TIME VARCHAR(5),
    FLOW VARCHAR(10),
    FLOW_DESCRIPTION VARCHAR(50),
    FLAG_HAZMAT VARCHAR(3),
    FLAG_FSC VARCHAR(3),
    FLAG_JEWELLERY VARCHAR(3),
    FLAG_PACKAGING_JEWELLERY VARCHAR(3),
    FLAG_HALMARKING VARCHAR(3),
    HALMARKING_STATUS VARCHAR(20),
    FLAG_IMPACT_CITES VARCHAR(3),
    CITES_STATUS VARCHAR(20),
    VAS_FLAG VARCHAR(3),
    VAS_CODE VARCHAR(7),
    VAS_CLUSTER VARCHAR(50),
    SAP_MEAN_OF_TRANSPORT VARCHAR(2),
    REFLEX_MEAN_OF_TRANSPORT VARCHAR(2),
    CLUSTER VARCHAR(10),
    CHANNEL VARCHAR(10),
    FLAG_CEE VARCHAR(3),
    FLAG_IS_TO_SHIP VARCHAR(3),
    FLAG_IS_STOP VARCHAR(3),
    FLAG_IS_CANCELLED VARCHAR(3),
    FLAG_MAX_ATTENTION VARCHAR(3),
    PRIORITY NUMBER(1,0),
    DOCUMENT_TYPE VARCHAR(2),
    FLOW_TYPE VARCHAR(10),
    ROUTE VARCHAR(6),
    SHIPPING_CONDITION VARCHAR(2),
    CODE_DELIVERY_GROUP VARCHAR(3),
    DELIVERY_BLOCK VARCHAR(2),
    SHIPMENT_BLOCKED VARCHAR(3),
    FLAG_IS_RELEASE_OD VARCHAR(3),
    EXTERNAL_ID VARCHAR(20),
    ORDER_ID_SENT_IN_TK05 VARCHAR(20),
    FLAG_URGENT VARCHAR(3),
    FLAG_CUT_OFF VARCHAR(3),
    FLAG_DMM_RECALCULATION VARCHAR(3),
    DMM_PICKUP VARCHAR(16),
    DMM_PACKING VARCHAR(16),
    COMMENTI VARCHAR(70),
    FLAG_ORDER_DESACTIVATED VARCHAR(1),
    CREATION_ORDER_DATE VARCHAR(16),
    UPDATED_DATE TIMESTAMP_NTZ,
    ISDELETED VARCHAR(1),
    PRODUCT_CATEGORY VARCHAR(20),
    PRIMARY KEY (PK_FACT_OUTBOUND)
);
